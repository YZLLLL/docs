1. DNS 域名解析

- 当用户在浏览器中输入一个域名时，浏览器会向本地 DNS 解析器发送一个 DNS 查询请求。本地 DNS 解析器首先会检查自己的缓存中是否有该域名对应的 IP 地址。如果有，解析器会直接返回 IP 地址给浏览器；如果没有，解析器会向根域名服务器发起查询请求。

- 根域名服务器是全球 DNS 系统的顶级服务器，它存储了顶级域名（如.com、.org、.cn 等）的 DNS 信息。根域名服务器会告诉本地 DNS 解析器，该域名对应的顶级域名服务器的地址。

- 本地 DNS 解析器接收到顶级域名服务器的地址后，会向顶级域名服务器发送查询请求。顶级域名服务器会告诉解析器，该域名对应的下一级域名服务器的地址。

- 解析器继续向下一级域名服务器发送查询请求，这个过程会一直持续，直到找到存储有对应域名的 IP 地址的域名服务器。最终，解析器会将 IP 地址返回给浏览器，并将该域名和对应的 IP 地址存储在缓存中，以便下次查询时使用。

_需要注意的是，DNS 缓存是有过期时间的，一旦过期，DNS 解析器就会重新向上一级服务器发送查询请求，并更新缓存中的结果。过期时间可以由域名的管理者在 DNS 记录中设置，通常是几分钟或几小时。 _

2. 解析 HTML

- 预解析 浏览器会开启预解析线程提前发起资源请求：浏览器会分析 HTML 文档中的链接标签（如 <link> 和 <script> ）和图片标签（如 <img> ），并提前发起这些资源的请求，以加快资源的下载速度。

- html 字符串被浏览器接收后一句一句读取并解析

- 遇见 link,异步下载，html 继续解析

- 遇见 script(正常情况下),暂停 html 解析，下载 js 并运行后继续 html 解析

- 遇见 图片,异步下载 图片，html 继续解析

> Async：异步加载这个文件（只对外部脚本文件有效）。异步下载文件，之后立即加载和异步执行文件，该过程是与后续 dom 元素的渲染过程是同时执行的。

> Defer: 延迟加载这个文件（只对外部脚本文件有效）。异步下载文件，之后立即加载但延迟执行，延迟到在所有 dom 元素解析完成后，Loaded 事件触发之前才执行

![](....\images\js加载.png)

3. 渲染

> 详见**渲染过程.md**
